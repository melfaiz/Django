{% extends 'index.html' %}

{% block title %}
    Cubic interpolation
{% endblock title %}

{% block header %}
  Gaussian Process Regression
{% endblock header %}

{% block paragraph %}
  
The GaussianProcessRegressor implements Gaussian processes (GP) for regression purposes. For this, the prior of the GP needs to be specified. The prior mean is assumed to be constant and zero (for normalize_y=False) or the training data’s mean (for normalize_y=True). The prior’s covariance is specified by passing a kernel object. The hyperparameters of the kernel are optimized during fitting of GaussianProcessRegressor by maximizing the log-marginal-likelihood (LML) based on the passed optimizer.

{% endblock paragraph %}

{% block learn %}
<a class="btn btn-primary btn-lg" href="https://scikit-learn.org/stable/modules/gaussian_process.html" role="button">Learn more about GPR in scikit learn &raquo;</a>
	
{% endblock learn %}

{% block content %}


			<canvas id="canvas"></canvas>

			
				<form method="POST" id="chartForm">{% csrf_token %}

					<div class="input-group">
						{{form.x}}					
						<div class="input-group-append" id="button-addon4">
							<button class="btn btn-outline-secondary" type="submit">Add point</button>
							<a href="{% url 'predict' %}" type="button" class="btn btn-outline-secondary">Predict (linear)</a>
							<a href="{% url 'delete' %}" type="button" class="btn btn-outline-secondary">Delete</a>
						</div>

					</div>

				<form>
		





{% endblock content %}

{% block scripts %}



<script>


		var datapoints = [{% for item in query %} '{{item.x}}', {% endfor %}]
		var axis = range(0, {{ query.count }},1)

		var config = {
			type: 'line',
			data: {
				labels: axis,
				datasets: [{
					label: 'Cubic interpolation (monotone)',
					data: datapoints,
					borderColor: window.chartColors.green,
					backgroundColor: 'rgba(0, 0, 0, 0)',
					fill: false,
					cubicInterpolationMode: 'monotone'
				}]
			},
			options: {
				responsive: true,
				title: {
					display: true,
				},
				tooltips: {
					mode: 'index'
				},
				scales: {
					xAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Day'
						}
					}],
					yAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Value'
						},
						ticks: {
							suggestedMin: -10,
							suggestedMax: 100,
						}
					}]
				}
			}
		};

		window.onload = function() {
			var ctx = document.getElementById('canvas').getContext('2d');
			window.myLine = new Chart(ctx, config);
		};

		document.getElementById('randomizeData').addEventListener('click', function() {
			for (var i = 0, len = datapoints.length; i < len; ++i) {
				datapoints[i] = Math.random() < 0 ? NaN : randomScalingFactor();
			}
			window.myLine.update();
		});







</script>


{% endblock scripts %}


{% block code %}

<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">1
2
3
4
5
6
7
8
9</pre></td><td><pre style="margin: 0; line-height: 125%">    kernel = C(<span style="color: #0000DD; font-weight: bold">1.0</span>, (<span style="color: #0000DD; font-weight: bold">1e-3</span>, <span style="color: #0000DD; font-weight: bold">1e3</span>)) * RBF(<span style="color: #0000DD; font-weight: bold">10</span>, (<span style="color: #0000DD; font-weight: bold">1e-2</span>, <span style="color: #0000DD; font-weight: bold">1e2</span>))

    gpModel = GaussianProcessRegressor(kernel=kernel, n_restarts_optimizer=<span style="color: #0000DD; font-weight: bold">9</span>)

    gpModel.fit(x, y)

    linearModel = LinearRegression()

    linearModel.fit(x, y)
</pre></td></tr></table></div>
{% endblock code %}